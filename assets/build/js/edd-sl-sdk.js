(()=>{var e={527:()=>{!function(e){"use strict";const t=t=>e.querySelector(t),s=t=>e.querySelectorAll(t);function n(e,t,s,n){e.addEventListener(t,(e=>{e.target.closest(s)&&n(e)}))}n(e,"click",".edd-sl-sdk__action",(function(e){e.preventDefault();const n=e.target,d=n.getAttribute("data-action");let a="";const i=n.textContent;if(n.hasAttribute("disabled"))return;switch(d){case"activate":a="edd_sl_sdk_activate",n.textContent=edd_sdk_notice.activating;break;case"deactivate":a="edd_sl_sdk_deactivate",n.textContent=edd_sdk_notice.deactivating;break;default:return}s(".edd-sl-sdk__license-control + .notice, .edd-sl-sdk__license-control + p").forEach((e=>e.remove())),n.classList.remove("button-primary"),n.setAttribute("disabled","true"),n.classList.add("updating-message");const c={token:n.getAttribute("data-token"),timestamp:n.getAttribute("data-timestamp"),nonce:n.getAttribute("data-nonce"),license:t(".edd-sl-sdk__license--input").value,slug:t(".edd-sl-sdk__license--input").getAttribute("data-slug")};c.action=a+"_"+c.slug,fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(c)}).then((e=>e.json())).then((e=>{if(e.success){if(t(".edd-sl-sdk-licensing__actions").outerHTML=e.data.actions,e.data.message&&t(".edd-sl-sdk__license-control").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-success">${e.data.message}</div>`),c.license.length&&"deactivate"===d)t(".edd-sl-sdk__license--input").removeAttribute("readonly");else if(("activate"===d||"verify"===d)&&(t(".edd-sl-sdk__license--input").setAttribute("readonly","true"),e.data.url&&e.data.url.length))return void setTimeout((()=>{window.location.href=e.data.url}),1500)}else n.textContent=i,t(".edd-sl-sdk__license-control").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-warning edd-sl-sdk__notice">${e.data.message}</div>`);n.removeAttribute("disabled"),n.classList.remove("updating-message")}))})),n(e,"click",".edd-sl-sdk-license__delete",(function(e){e.preventDefault();const n=e.target,d={action:"edd_sl_sdk_delete",token:n.getAttribute("data-token"),timestamp:n.getAttribute("data-timestamp"),nonce:n.getAttribute("data-nonce"),license:t(".edd-sl-sdk__license--input").value};d.license&&(s(".edd-sl-sdk__license-control + .notice, .edd-sl-sdk__license-control + p").forEach((e=>e.remove())),n.setAttribute("disabled","true"),n.classList.add("updating-message"),fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(d)}).then((e=>e.json())).then((e=>{e.success?(t(".edd-sl-sdk__license-control").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-success">${e.data.message}</div>`),n.style.display="none",t(".edd-sl-sdk__license--input").value=""):t(".edd-sl-sdk__license-control").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-warning">${e.data.message}</div>`),n.removeAttribute("disabled"),n.classList.remove("updating-message")})))}))}(document)},870:()=>{const e=document.querySelector(".edd-sdk-notice--overlay");let t=null;function s(e){document.dispatchEvent(new CustomEvent("edd_sdk_notice_enter",{detail:{notice:e}})),e.style.display="flex",e.style.opacity="0",requestAnimationFrame((()=>{e.style.transition="opacity 0.3s",e.style.opacity="1"}))}e&&(t=document.createElement("div"),t.classList.add("edd-sdk__notice__overlay"),e.parentNode.insertBefore(t,e),t.appendChild(e),document.addEventListener("click",(n=>{if(n.target.classList.contains("edd-sdk__notice__trigger"))if(n.target.classList.contains("edd-sdk__notice__trigger--ajax")){var d,a,i,c;n.preventDefault();const o={template:null!==(d=n.target.dataset.id)&&void 0!==d?d:"license-control",product_id:null!==(a=n.target.dataset.product)&&void 0!==a?a:"",slug:null!==(i=n.target.dataset.slug)&&void 0!==i?i:"",name:null!==(c=n.target.dataset.name)&&void 0!==c?c:""};o.action="edd_sdk_get_notice_"+o.slug,fetch(`${ajaxurl}?${new URLSearchParams(o)}`).then((e=>e.json())).then((n=>{n.data&&(e.innerHTML=n.data,t.classList.add("edd-sdk__notice--ajax")),s(t)}))}else s(t)}))),document.querySelectorAll(".edd-sdk__notice__overlay").forEach((e=>{e.addEventListener("click",(s=>{var n;s.target.classList.contains("edd-sdk__notice--dismiss")&&(s.target.href||s.preventDefault(),"none"!==(n=t||e).style.display&&(n.style.transition="opacity 0.3s",n.style.opacity="0",n.addEventListener("transitionend",(()=>{n.style.display="none"}),{once:!0}),document.dispatchEvent(new CustomEvent("edd_sdk_notice_dismiss",{detail:{notice:n}}))))}))}))}},t={};function s(n){var d=t[n];if(void 0!==d)return d.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";s(870),s(527)})()})();